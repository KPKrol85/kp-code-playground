(()=>{var b=()=>{let e=document.querySelectorAll("[data-reveal]");if(!e.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){e.forEach(i=>i.classList.add("is-visible"));return}let a=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(o.target.classList.add("is-visible"),a.unobserve(o.target))})},{threshold:.2});e.forEach(i=>a.observe(i))};var h=()=>{let e=document.querySelector(".header");if(!e)return;let t=()=>{e.classList.toggle("header--scrolled",window.scrollY>12)};t(),window.addEventListener("scroll",t,{passive:!0})};var v='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',w=()=>{let e=document.querySelector(".nav__toggle"),t=document.querySelector("[data-drawer]"),a=document.querySelector("[data-drawer-close]");if(!e||!t||!a)return;let i=null,o=()=>{i=document.activeElement,t.classList.add("is-open"),e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false");let c=t.querySelectorAll(v);c.length&&c[0].focus(),document.body.style.overflow="hidden"},n=()=>{t.classList.remove("is-open"),e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),document.body.style.overflow="",i&&i.focus()},s=c=>{if(!t.classList.contains("is-open")||(c.key==="Escape"&&n(),c.key!=="Tab"))return;let u=Array.from(t.querySelectorAll(v));if(!u.length)return;let p=u[0],r=u[u.length-1];c.shiftKey&&document.activeElement===p&&(c.preventDefault(),r.focus()),!c.shiftKey&&document.activeElement===r&&(c.preventDefault(),p.focus())};e.addEventListener("click",()=>{t.classList.contains("is-open")?n():o()}),a.addEventListener("click",n),t.addEventListener("click",c=>{c.target.matches(".nav__link")&&n()}),document.addEventListener("keydown",s)};var z=()=>{let e=Array.from(document.querySelectorAll(".nav__link"));if(!e.length)return;let t=e.map(i=>document.querySelector(i.getAttribute("href"))).filter(Boolean),a=new IntersectionObserver(i=>{i.forEach(o=>{if(o.isIntersecting){let n=`#${o.target.id}`;e.forEach(s=>{s.classList.toggle("is-active",s.getAttribute("href")===n)})}})},{threshold:.5});t.forEach(i=>a.observe(i))};var A=()=>{let e=document.querySelectorAll("[data-accordion-item]");e.length&&e.forEach(t=>{let a=t.querySelector(".accordion__trigger"),i=t.querySelector(".accordion__panel");if(!a||!i)return;let o=()=>{let n=a.getAttribute("aria-expanded")==="true";a.setAttribute("aria-expanded",String(!n)),i.classList.toggle("is-open",!n),i.setAttribute("aria-hidden",String(n))};a.addEventListener("click",o),a.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),o())})})};var E=()=>{let e=document.querySelector("[data-tablist]"),t=Array.from(document.querySelectorAll("[data-tab]")),a=Array.from(document.querySelectorAll("[data-tab-panel]"));if(!e||!t.length||!a.length)return;let i=new Map(a.map(r=>[r.dataset.tabPanel,r])),o=t.map(r=>r.dataset.tab),s=Math.max(t.findIndex(r=>r.classList.contains("is-active")),0),c=()=>{t.forEach((r,d)=>{let l=d===s;r.classList.toggle("is-active",l),r.setAttribute("aria-selected",String(l)),r.setAttribute("tabindex",l?"0":"-1")}),a.forEach((r,d)=>{let l=d===s;r.hidden=!l,r.setAttribute("aria-hidden",String(!l))})},u=(r,{focus:d=!0}={})=>{s=r,c(),d&&t[s].focus()},p=r=>{let{key:d}=r,l=t.indexOf(document.activeElement);if(l===-1)return;let m=l;if(d==="ArrowRight")m=(l+1)%t.length;else if(d==="ArrowLeft")m=(l-1+t.length)%t.length;else if(d==="Home")m=0;else if(d==="End")m=t.length-1;else if(d==="Enter"||d===" "){r.preventDefault(),l!==s&&u(l);return}else return;r.preventDefault(),t[m].focus()};e.setAttribute("role","tablist"),e.setAttribute("aria-label","Filtr kategorii"),t.forEach((r,d)=>{let l=o[d],m=i.get(l);if(!m)return;let f=`resources-tab-${l}`,k=`resources-panel-${l}`;r.setAttribute("role","tab"),r.setAttribute("id",f),r.setAttribute("aria-controls",k),m.setAttribute("role","tabpanel"),m.setAttribute("id",k),m.setAttribute("aria-labelledby",f)}),e.addEventListener("keydown",p),t.forEach((r,d)=>{r.addEventListener("click",()=>{s!==d&&u(d,{focus:!1})})}),u(s,{focus:!1})};var S=()=>{let e=document.querySelectorAll("[data-progress-item] .progress__toggle");e.length&&e.forEach(t=>{t.addEventListener("click",()=>{let a=t.getAttribute("aria-pressed")==="true";t.setAttribute("aria-pressed",String(!a)),t.querySelector(".progress__icon").textContent=a?"\u25CB":"\u2713"})})};var L=()=>{let e=document.querySelector("[data-contact-form]");if(!e)return;e.querySelectorAll("[data-error-target]").forEach(a=>{let i=a.dataset.errorTarget;if(!i)return;let o=e.querySelector(`#${i}`);if(!o)return;let n=()=>{o.hidden=!1,a.setAttribute("aria-invalid","true")},s=()=>{o.hidden=!0,a.setAttribute("aria-invalid","false")};a.addEventListener("invalid",()=>{n()}),a.addEventListener("input",()=>{a.validity.valid&&s()})})};var x=[{id:"grammar-clarity-pack",title:"Gramatyka bez chaosu \u2013 kluczowe czasy",category:"grammar",level:"A2",format:"PDF",duration:"20\u201330 min",description:"Zwi\u0119z\u0142e podsumowania czas\xF3w z przyk\u0142adami i checklist\u0105 do powt\xF3rek.",access:"free",ctaLabel:"Pobierz",url:"#",tags:["czasy","podstawy"]},{id:"vocab-everyday-routines",title:"S\u0142ownictwo: rutyny dnia codziennego",category:"vocabulary",level:"A1",format:"Worksheet",duration:"10\u201315 min",description:"Karty pracy z obrazkami i kr\xF3tkimi dialogami do pracy w\u0142asnej.",access:"free",ctaLabel:"Zobacz",url:"#",tags:["daily","praktyka"]},{id:"speaking-warmups",title:"Speaking warm-ups na start lekcji",category:"speaking",level:"B1",format:"PDF",duration:"15\u201320 min",description:"Zestaw pyta\u0144 i mini-sytuacji do rozgrzewki j\u0119zykowej.",access:"free",ctaLabel:"Pobierz",url:"#",tags:["rozmowa","fluency"]},{id:"writing-emails",title:"Pisanie maili po angielsku \u2013 szablony",category:"writing",level:"B2",format:"PDF",duration:"25\u201330 min",description:"Gotowe struktury maili i najcz\u0119stsze zwroty w komunikacji biznesowej.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"regular",tags:["email","biznes"]},{id:"exam-strategy-pack",title:"Strategie egzaminacyjne krok po kroku",category:"exam",level:"B2",format:"PDF",duration:"30\u201340 min",description:"Plan dzia\u0142ania, timeboxing i wskaz\xF3wki do najcz\u0119stszych zada\u0144.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"intensive",tags:["egzamin","strategia"]},{id:"business-meetings",title:"Meeting toolkit: zwroty do spotka\u0144",category:"business",level:"B2",format:"Worksheet",duration:"20 min",description:"Zestaw zwrot\xF3w do prowadzenia spotka\u0144 i prezentowania wniosk\xF3w.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"regular",tags:["meeting","biznes"]},{id:"vocab-travel",title:"S\u0142ownictwo w podr\xF3\u017Cy \u2013 praktyczne scenki",category:"vocabulary",level:"A2",format:"Quiz",duration:"10\u201312 min",description:"Kr\xF3tki quiz do utrwalenia zwrot\xF3w na lotnisku i w hotelu.",access:"free",ctaLabel:"Zobacz",url:"#",tags:["travel","quiz"]},{id:"grammar-modal-verbs",title:"Modal verbs w praktyce",category:"grammar",level:"B1",format:"PDF",duration:"20 min",description:"Przyk\u0142ady u\u017Cycia i \u0107wiczenia z must/should/can w codziennych sytuacjach.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"start",tags:["modals"]},{id:"speaking-clarity",title:"Speaking: odpowiedzi pe\u0142nym zdaniem",category:"speaking",level:"A2",format:"Audio",duration:"12\u201318 min",description:"Nagrania z modelowymi odpowiedziami i kr\xF3tkimi \u0107wiczeniami shadowing.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"start",tags:["audio","shadowing"]},{id:"writing-structures",title:"Writing structures: opinion paragraph",category:"writing",level:"B1",format:"Worksheet",duration:"15\u201320 min",description:"Schematy i \u0142\u0105czniki do budowania sp\xF3jnych wypowiedzi pisemnych.",access:"free",ctaLabel:"Pobierz",url:"#",tags:["writing","\u0142\u0105czniki"]},{id:"exam-speaking-checklist",title:"Checklist do Speaking (FCE/CAE)",category:"exam",level:"C1",format:"PDF",duration:"15 min",description:"Konkretne kryteria oceny i plan przygotowania do cz\u0119\u015Bci ustnej.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"intensive",tags:["speaking","egzamin"]},{id:"business-smalltalk",title:"Small talk w pracy: startery rozm\xF3w",category:"business",level:"B1",format:"PDF",duration:"10\u201315 min",description:"Gotowe startery i pytania do rozm\xF3w w \u015Brodowisku zawodowym.",access:"free",ctaLabel:"Zobacz",url:"#",tags:["small talk","relacje"]},{id:"grammar-review",title:"Powt\xF3rka gramatyczna \u2013 mapy my\u015Bli",category:"grammar",level:"All",format:"PDF",duration:"20\u201325 min",description:"Mapy my\u015Bli do szybkiej powt\xF3rki i \u0142\u0105czenia temat\xF3w gramatycznych.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"regular",tags:["powt\xF3rka","mapy"]},{id:"vocab-idioms",title:"Idiomatyczne zwroty w praktyce",category:"vocabulary",level:"B2",format:"PDF",duration:"20 min",description:"Najcz\u0119stsze idiomy z przyk\u0142adami u\u017Cycia w kontek\u015Bcie.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"regular",tags:["idiomy","kontekst"]},{id:"speaking-roleplays",title:"Role-play scenarios do rozm\xF3w",category:"speaking",level:"B2",format:"Video",duration:"15\u201325 min",description:"Kr\xF3tkie scenki video z zadaniami do samodzielnego prze\u0107wiczenia.",access:"premium",ctaLabel:"Kup dost\u0119p",packageKey:"intensive",tags:["role-play","video"]}];var y={start:{key:"start",label:"Start",href:"pakiety.html#pakiet-start"},regular:{key:"regular",label:"Regular",href:"pakiety.html#pakiet-regular"},intensive:{key:"intensive",label:"Intensive",href:"pakiety.html#pakiet-intensive"}},q="pakiety.html#pakiety";var P={grammar:"Gramatyka",vocabulary:"S\u0142ownictwo",speaking:"Speaking",writing:"Writing",exam:"Egzaminy",business:"Biznes"},K={free:"Free",premium:"Premium"},g=(e,t="")=>{let a=document.createElement("span");return a.className=`badge ${t}`.trim(),a.textContent=e,a},I=e=>{let t=document.createDocumentFragment();return t.append(g(P[e.category]||e.category),g(e.level==="All"?"Wszystkie poziomy":e.level),g(e.format)),e.duration&&t.append(g(e.duration)),t},C=e=>e.access==="free",D=e=>e.packageKey&&y[e.packageKey]?y[e.packageKey].href:q,j=e=>e.access==="premium"?D(e):e.url||"#",B=e=>x.filter(t=>!(e.category!=="all"&&t.category!==e.category||e.level!=="all"&&t.level!==e.level&&t.level!=="All"||e.freeOnly&&t.access!=="free")),M=(e,t,a)=>{if(t.innerHTML="",!e.length){a.hidden=!1;return}a.hidden=!0;let i=document.createDocumentFragment();e.forEach(o=>{let n=document.createElement("article");n.className="card card--resource materials__card";let s=document.createElement("h3");s.className="card__title",s.textContent=o.title;let c=document.createElement("div");c.className="card__tags materials__meta",c.append(I(o));let u=document.createElement("p");u.className="card__text",u.textContent=o.description;let p=g(K[o.access],`badge--access badge--${o.access}`);p.setAttribute("aria-label",`Dost\u0119p: ${K[o.access]}`);let r=document.createElement("a"),d=C(o);r.className=`button ${d?"button--ghost":"button--primary"}`,r.href=j(o),r.textContent=o.ctaLabel;let l=document.createElement("div");l.className="materials__footer",l.append(p,r),n.append(s,c,u,l),i.append(n)}),t.append(i)},N=(e,t)=>{t&&(t.textContent=`Wynik\xF3w: ${e}`)},R=({categorySelect:e,levelSelect:t,freeToggle:a,listContainer:i,emptyState:o,countElement:n})=>{let s={category:e.value,level:t.value,freeOnly:a.checked},c=()=>{s.category=e.value,s.level=t.value,s.freeOnly=a.checked;let u=B(s);M(u,i,o),N(u.length,n)};e.addEventListener("change",c),t.addEventListener("change",c),a.addEventListener("change",c),c()},_=()=>{let e=document.querySelector("#materials-list");if(!e)return;let t=document.querySelector("[data-materials-category]"),a=document.querySelector("[data-materials-level]"),i=document.querySelector("[data-materials-free]"),o=document.querySelector("[data-materials-empty]"),n=document.querySelector("[data-materials-count]");!t||!a||!i||!o||R({categorySelect:t,levelSelect:a,freeToggle:i,listContainer:e,emptyState:o,countElement:n})};var T=e=>typeof e=="string"&&e.length>1,F=()=>{if(!T(window.location.hash))return;let e=decodeURIComponent(window.location.hash.slice(1));if(!e)return;let t=document.getElementById(e);t&&requestAnimationFrame(()=>{t.hasAttribute("tabindex")||t.setAttribute("tabindex","-1"),t.focus({preventScroll:!0})})};var W=()=>{let e=document.querySelector("[data-theme-toggle]");if(!e)return;let t=localStorage.getItem("theme");t&&(document.documentElement.dataset.theme=t),e.addEventListener("click",()=>{let a=document.documentElement.dataset.theme==="dark"?"light":"dark";document.documentElement.dataset.theme=a,localStorage.setItem("theme",a)})},H=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")})};b();h();w();z();A();E();S();_();F();W();L();H();})();
