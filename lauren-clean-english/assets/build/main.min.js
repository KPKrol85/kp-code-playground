(()=>{var k=()=>{let t=document.querySelectorAll("[data-reveal]");if(!t.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){t.forEach(i=>i.classList.add("is-visible"));return}let a=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(o.target.classList.add("is-visible"),a.unobserve(o.target))})},{threshold:.2});t.forEach(i=>a.observe(i))};var b=()=>{let t=document.querySelector(".header");if(!t)return;let e=()=>{t.classList.toggle("header--scrolled",window.scrollY>12)};e(),window.addEventListener("scroll",e,{passive:!0})};var h='a[href], button:not([disabled]), textarea, input, select, [tabindex]:not([tabindex="-1"])',v=()=>{let t=document.querySelector(".nav__toggle"),e=document.querySelector("[data-drawer]"),a=document.querySelector("[data-drawer-close]");if(!t||!e||!a)return;let i=null,o=()=>{i=document.activeElement,e.classList.add("is-open"),t.setAttribute("aria-expanded","true"),e.setAttribute("aria-hidden","false");let c=e.querySelectorAll(h);c.length&&c[0].focus(),document.body.style.overflow="hidden"},n=()=>{e.classList.remove("is-open"),t.setAttribute("aria-expanded","false"),e.setAttribute("aria-hidden","true"),document.body.style.overflow="",i&&i.focus()},s=c=>{if(!e.classList.contains("is-open")||(c.key==="Escape"&&n(),c.key!=="Tab"))return;let u=Array.from(e.querySelectorAll(h));if(!u.length)return;let p=u[0],r=u[u.length-1];c.shiftKey&&document.activeElement===p&&(c.preventDefault(),r.focus()),!c.shiftKey&&document.activeElement===r&&(c.preventDefault(),p.focus())};t.addEventListener("click",()=>{e.classList.contains("is-open")?n():o()}),a.addEventListener("click",n),e.addEventListener("click",c=>{c.target.matches(".nav__link")&&n()}),document.addEventListener("keydown",s)};var w=()=>{let t=Array.from(document.querySelectorAll(".nav__link"));if(!t.length)return;let e=t.map(i=>document.querySelector(i.getAttribute("href"))).filter(Boolean),a=new IntersectionObserver(i=>{i.forEach(o=>{if(o.isIntersecting){let n=`#${o.target.id}`;t.forEach(s=>{s.classList.toggle("is-active",s.getAttribute("href")===n)})}})},{threshold:.5});e.forEach(i=>a.observe(i))};var z=()=>{let t=document.querySelectorAll("[data-accordion-item]");t.length&&t.forEach(e=>{let a=e.querySelector(".accordion__trigger"),i=e.querySelector(".accordion__panel");if(!a||!i)return;let o=()=>{let n=a.getAttribute("aria-expanded")==="true";a.setAttribute("aria-expanded",String(!n)),i.classList.toggle("is-open",!n),i.setAttribute("aria-hidden",String(n))};a.addEventListener("click",o),a.addEventListener("keydown",n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),o())})})};var A=()=>{let t=document.querySelector("[data-tablist]"),e=Array.from(document.querySelectorAll("[data-tab]")),a=Array.from(document.querySelectorAll("[data-tab-panel]"));if(!t||!e.length||!a.length)return;let i=new Map(a.map(r=>[r.dataset.tabPanel,r])),o=e.map(r=>r.dataset.tab),s=Math.max(e.findIndex(r=>r.classList.contains("is-active")),0),c=()=>{e.forEach((r,d)=>{let l=d===s;r.classList.toggle("is-active",l),r.setAttribute("aria-selected",String(l)),r.setAttribute("tabindex",l?"0":"-1")}),a.forEach((r,d)=>{let l=d===s;r.hidden=!l,r.setAttribute("aria-hidden",String(!l))})},u=(r,{focus:d=!0}={})=>{s=r,c(),d&&e[s].focus()},p=r=>{let{key:d}=r,l=e.indexOf(document.activeElement);if(l===-1)return;let m=l;if(d==="ArrowRight")m=(l+1)%e.length;else if(d==="ArrowLeft")m=(l-1+e.length)%e.length;else if(d==="Home")m=0;else if(d==="End")m=e.length-1;else if(d==="Enter"||d===" "){r.preventDefault(),l!==s&&u(l);return}else return;r.preventDefault(),e[m].focus()};t.setAttribute("role","tablist"),t.setAttribute("aria-label","Filtr kategorii"),e.forEach((r,d)=>{let l=o[d],m=i.get(l);if(!m)return;let y=`resources-tab-${l}`,f=`resources-panel-${l}`;r.setAttribute("role","tab"),r.setAttribute("id",y),r.setAttribute("aria-controls",f),m.setAttribute("role","tabpanel"),m.setAttribute("id",f),m.setAttribute("aria-labelledby",y)}),t.addEventListener("keydown",p),e.forEach((r,d)=>{r.addEventListener("click",()=>{s!==d&&u(d,{focus:!1})})}),u(s,{focus:!1})};var E=()=>{let t=document.querySelectorAll("[data-progress-item] .progress__toggle");t.length&&t.forEach(e=>{e.addEventListener("click",()=>{let a=e.getAttribute("aria-pressed")==="true";e.setAttribute("aria-pressed",String(!a)),e.querySelector(".progress__icon").textContent=a?"\u25CB":"\u2713"})})};var S=()=>{let t=document.querySelector("[data-contact-form]");if(!t)return;t.querySelectorAll("[data-error-target]").forEach(a=>{let i=a.dataset.errorTarget;if(!i)return;let o=t.querySelector(`#${i}`);if(!o)return;let n=()=>{o.hidden=!1,a.setAttribute("aria-invalid","true")},s=()=>{o.hidden=!0,a.setAttribute("aria-invalid","false")};a.addEventListener("invalid",()=>{n()}),a.addEventListener("input",()=>{a.validity.valid&&s()})})};var L=[{id:"grammar-clarity-pack",title:"Gramatyka bez chaosu \u2013 kluczowe czasy",category:"grammar",level:"A2",format:"PDF",duration:"20\u201330 min",description:"Zwi\u0119z\u0142e podsumowania czas\xF3w z przyk\u0142adami i checklist\u0105 do powt\xF3rek.",access:"free",ctaLabel:"Pobierz",url:"#",tags:["czasy","podstawy"]},{id:"vocab-everyday-routines",title:"S\u0142ownictwo: rutyny dnia codziennego",category:"vocabulary",level:"A1",format:"Worksheet",duration:"10\u201315 min",description:"Karty pracy z obrazkami i kr\xF3tkimi dialogami do pracy w\u0142asnej.",access:"free",ctaLabel:"Zobacz",url:"#",tags:["daily","praktyka"]},{id:"speaking-warmups",title:"Speaking warm-ups na start lekcji",category:"speaking",level:"B1",format:"PDF",duration:"15\u201320 min",description:"Zestaw pyta\u0144 i mini-sytuacji do rozgrzewki j\u0119zykowej.",access:"free",ctaLabel:"Pobierz",url:"#",tags:["rozmowa","fluency"]},{id:"writing-emails",title:"Pisanie maili po angielsku \u2013 szablony",category:"writing",level:"B2",format:"PDF",duration:"25\u201330 min",description:"Gotowe struktury maili i najcz\u0119stsze zwroty w komunikacji biznesowej.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["email","biznes"]},{id:"exam-strategy-pack",title:"Strategie egzaminacyjne krok po kroku",category:"exam",level:"B2",format:"PDF",duration:"30\u201340 min",description:"Plan dzia\u0142ania, timeboxing i wskaz\xF3wki do najcz\u0119stszych zada\u0144.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["egzamin","strategia"]},{id:"business-meetings",title:"Meeting toolkit: zwroty do spotka\u0144",category:"business",level:"B2",format:"Worksheet",duration:"20 min",description:"Zestaw zwrot\xF3w do prowadzenia spotka\u0144 i prezentowania wniosk\xF3w.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["meeting","biznes"]},{id:"vocab-travel",title:"S\u0142ownictwo w podr\xF3\u017Cy \u2013 praktyczne scenki",category:"vocabulary",level:"A2",format:"Quiz",duration:"10\u201312 min",description:"Kr\xF3tki quiz do utrwalenia zwrot\xF3w na lotnisku i w hotelu.",access:"free",ctaLabel:"Zobacz",url:"#",tags:["travel","quiz"]},{id:"grammar-modal-verbs",title:"Modal verbs w praktyce",category:"grammar",level:"B1",format:"PDF",duration:"20 min",description:"Przyk\u0142ady u\u017Cycia i \u0107wiczenia z must/should/can w codziennych sytuacjach.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["modals"]},{id:"speaking-clarity",title:"Speaking: odpowiedzi pe\u0142nym zdaniem",category:"speaking",level:"A2",format:"Audio",duration:"12\u201318 min",description:"Nagrania z modelowymi odpowiedziami i kr\xF3tkimi \u0107wiczeniami shadowing.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["audio","shadowing"]},{id:"writing-structures",title:"Writing structures: opinion paragraph",category:"writing",level:"B1",format:"Worksheet",duration:"15\u201320 min",description:"Schematy i \u0142\u0105czniki do budowania sp\xF3jnych wypowiedzi pisemnych.",access:"free",ctaLabel:"Pobierz",url:"#",tags:["writing","\u0142\u0105czniki"]},{id:"exam-speaking-checklist",title:"Checklist do Speaking (FCE/CAE)",category:"exam",level:"C1",format:"PDF",duration:"15 min",description:"Konkretne kryteria oceny i plan przygotowania do cz\u0119\u015Bci ustnej.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["speaking","egzamin"]},{id:"business-smalltalk",title:"Small talk w pracy: startery rozm\xF3w",category:"business",level:"B1",format:"PDF",duration:"10\u201315 min",description:"Gotowe startery i pytania do rozm\xF3w w \u015Brodowisku zawodowym.",access:"free",ctaLabel:"Zobacz",url:"#",tags:["small talk","relacje"]},{id:"grammar-review",title:"Powt\xF3rka gramatyczna \u2013 mapy my\u015Bli",category:"grammar",level:"All",format:"PDF",duration:"20\u201325 min",description:"Mapy my\u015Bli do szybkiej powt\xF3rki i \u0142\u0105czenia temat\xF3w gramatycznych.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["powt\xF3rka","mapy"]},{id:"vocab-idioms",title:"Idiomatyczne zwroty w praktyce",category:"vocabulary",level:"B2",format:"PDF",duration:"20 min",description:"Najcz\u0119stsze idiomy z przyk\u0142adami u\u017Cycia w kontek\u015Bcie.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["idiomy","kontekst"]},{id:"speaking-roleplays",title:"Role-play scenarios do rozm\xF3w",category:"speaking",level:"B2",format:"Video",duration:"15\u201325 min",description:"Kr\xF3tkie scenki video z zadaniami do samodzielnego prze\u0107wiczenia.",access:"premium",ctaLabel:"Kup dost\u0119p",url:"pakiety.html",tags:["role-play","video"]}];var _={grammar:"Gramatyka",vocabulary:"S\u0142ownictwo",speaking:"Speaking",writing:"Writing",exam:"Egzaminy",business:"Biznes"},x={free:"Free",premium:"Premium"},g=(t,e="")=>{let a=document.createElement("span");return a.className=`badge ${e}`.trim(),a.textContent=t,a},F=t=>{let e=document.createDocumentFragment();return e.append(g(_[t.category]||t.category),g(t.level==="All"?"Wszystkie poziomy":t.level),g(t.format)),t.duration&&e.append(g(t.duration)),e},P=t=>t.access==="free",D=t=>L.filter(e=>!(t.category!=="all"&&e.category!==t.category||t.level!=="all"&&e.level!==t.level&&e.level!=="All"||t.freeOnly&&e.access!=="free")),j=(t,e,a)=>{if(e.innerHTML="",!t.length){a.hidden=!1;return}a.hidden=!0;let i=document.createDocumentFragment();t.forEach(o=>{let n=document.createElement("article");n.className="card card--resource materials__card";let s=document.createElement("h3");s.className="card__title",s.textContent=o.title;let c=document.createElement("div");c.className="card__tags materials__meta",c.append(F(o));let u=document.createElement("p");u.className="card__text",u.textContent=o.description;let p=g(x[o.access],`badge--access badge--${o.access}`);p.setAttribute("aria-label",`Dost\u0119p: ${x[o.access]}`);let r=document.createElement("a"),d=P(o);r.className=`button ${d?"button--ghost":"button--primary"}`,r.href=o.url,r.textContent=o.ctaLabel;let l=document.createElement("div");l.className="materials__footer",l.append(p,r),n.append(s,c,u,l),i.append(n)}),e.append(i)},K=(t,e)=>{e&&(e.textContent=`Wynik\xF3w: ${t}`)},B=({categorySelect:t,levelSelect:e,freeToggle:a,listContainer:i,emptyState:o,countElement:n})=>{let s={category:t.value,level:e.value,freeOnly:a.checked},c=()=>{s.category=t.value,s.level=e.value,s.freeOnly=a.checked;let u=D(s);j(u,i,o),K(u.length,n)};t.addEventListener("change",c),e.addEventListener("change",c),a.addEventListener("change",c),c()},q=()=>{let t=document.querySelector("#materials-list");if(!t)return;let e=document.querySelector("[data-materials-category]"),a=document.querySelector("[data-materials-level]"),i=document.querySelector("[data-materials-free]"),o=document.querySelector("[data-materials-empty]"),n=document.querySelector("[data-materials-count]");!e||!a||!i||!o||B({categorySelect:e,levelSelect:a,freeToggle:i,listContainer:t,emptyState:o,countElement:n})};var C=()=>{let t=document.querySelector("[data-theme-toggle]");if(!t)return;let e=localStorage.getItem("theme");e&&(document.documentElement.dataset.theme=e),t.addEventListener("click",()=>{let a=document.documentElement.dataset.theme==="dark"?"light":"dark";document.documentElement.dataset.theme=a,localStorage.setItem("theme",a)})},I=()=>{"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")})};k();b();v();w();z();A();E();q();C();S();I();})();
