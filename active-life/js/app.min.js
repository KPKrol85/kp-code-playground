function initReveal(){document.documentElement.classList.add("js");const e=document.querySelectorAll("[data-reveal]");if(!e.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||!("IntersectionObserver"in window))return void e.forEach(e=>{e.classList.add("is-revealed"),e.dataset.revealReady="true"});const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("is-revealed"),e.target.dataset.revealReady="true",t.unobserve(e.target))})},{threshold:.2});e.forEach(e=>{"true"!==e.dataset.revealReady&&(t.observe(e),e.dataset.revealReady="true")})}const headerShrinkNoop=()=>{};let isHeaderShrinkInitialized=!1,destroyHeaderShrink=headerShrinkNoop;function initHeaderShrink(){if(isHeaderShrinkInitialized)return destroyHeaderShrink;const e=document.querySelector("[data-header]");if(!e)return destroyHeaderShrink=headerShrinkNoop,destroyHeaderShrink;const t=new AbortController,{signal:i}=t;let n=null;const r=()=>{n=null,window.scrollY>12?e.classList.add("header--scrolled"):e.classList.remove("header--scrolled")};return r(),window.addEventListener("scroll",()=>{null===n&&(n=window.requestAnimationFrame(r))},{passive:!0,signal:i}),isHeaderShrinkInitialized=!0,destroyHeaderShrink=()=>{t.abort(),null!==n&&(window.cancelAnimationFrame(n),n=null),e.classList.remove("header--scrolled"),isHeaderShrinkInitialized=!1,destroyHeaderShrink=headerShrinkNoop},destroyHeaderShrink}const focusableSelectors=["a[href]","button:not([disabled])","textarea:not([disabled])","input:not([disabled])","select:not([disabled])","[tabindex]:not([tabindex='-1'])"];function getFocusableElements(e){return e?[...e.querySelectorAll(focusableSelectors.join(","))].filter(e=>!e.hasAttribute("disabled")&&("true"!==e.getAttribute("aria-hidden")&&(null!==e.offsetParent||e===document.activeElement))):[]}const mobileNavNoop=()=>{};let destroyMobileNav=mobileNavNoop,isMobileNavInitialized=!1;function initMobileNav(){if(isMobileNavInitialized)return destroyMobileNav;const e=document.querySelector("[data-nav-toggle]"),t=document.querySelector("[data-mobile-nav]"),i=document.querySelector("[data-nav-close]"),n=window.matchMedia("(min-width: 700px)");if(!e||!t||!i)return destroyMobileNav=mobileNavNoop,destroyMobileNav;const r=new AbortController,{signal:o}=r;let a=!1,l=null,d=!1,s="",c="";const u=new Map,h=()=>{u.clear(),(()=>{const e=[],i=new Set,n=n=>{!n||i.has(n)||n===t||t.contains(n)||n.contains(t)||(i.add(n),e.push(n))};[...document.body.children].forEach(n);const r=t.closest("header");return r&&[...r.children].forEach(n),e})().forEach(e=>{u.set(e,{ariaHidden:e.getAttribute("aria-hidden"),inert:"inert"in e?e.inert:null}),e.setAttribute("aria-hidden","true"),"inert"in e&&(e.inert=!0)})},m=()=>{a||(l=document.activeElement instanceof HTMLElement?document.activeElement:e,t.hidden=!1,t.inert=!1,e.setAttribute("aria-expanded","true"),(()=>{if(d)return;s=document.body.style.overflow,c=document.body.style.paddingRight;const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=e>0?`${e}px`:c,d=!0})(),h(),(()=>{const e=getFocusableElements(t);e.length?e[0].focus():t.focus()})(),a=!0)},f=({restoreFocus:i=!0}={})=>{if((a||!t.hidden)&&(t.inert=!0,t.hidden=!0,e.setAttribute("aria-expanded","false"),d&&(document.body.style.overflow=s,document.body.style.paddingRight=c,d=!1),u.forEach((e,t)=>{null===e.ariaHidden?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",e.ariaHidden),null!==e.inert&&(t.inert=e.inert)}),u.clear(),a=!1,i)){(l&&document.contains(l)?l:e).focus()}},v=()=>{n.matches?f({restoreFocus:!1}):t.inert=t.hidden};return e.addEventListener("click",()=>{a?f():m()},{signal:o}),i.addEventListener("click",()=>f(),{signal:o}),t.addEventListener("click",e=>{e.target===t&&f()},{signal:o}),document.addEventListener("keydown",e=>{if(!a||t.hidden)return;if("Escape"===e.key)return e.preventDefault(),void f();if("Tab"!==e.key)return;const i=getFocusableElements(t);if(!i.length)return e.preventDefault(),void t.focus();const n=i[0],r=i[i.length-1];if(!t.contains(document.activeElement))return e.preventDefault(),void n.focus();e.shiftKey&&document.activeElement===n?(e.preventDefault(),r.focus()):e.shiftKey||document.activeElement!==r||(e.preventDefault(),n.focus())},{signal:o}),t.querySelectorAll("a[href]").forEach(e=>{e.addEventListener("click",()=>f(),{signal:o})}),n.addEventListener("change",v,{signal:o}),v(),t.dataset.initialized="true",isMobileNavInitialized=!0,destroyMobileNav=()=>{r.abort(),f({restoreFocus:!1}),t.dataset.initialized="false",l=null,isMobileNavInitialized=!1,destroyMobileNav=mobileNavNoop},destroyMobileNav}const scheduleFilterNoop=()=>{};let isScheduleFilterInitialized=!1,destroyScheduleFilter=scheduleFilterNoop;function initScheduleFilter(){if(isScheduleFilterInitialized)return destroyScheduleFilter;const e=document.querySelectorAll("[data-filter]"),t=document.querySelectorAll(".schedule-card");if(!e.length||!t.length)return destroyScheduleFilter=scheduleFilterNoop,destroyScheduleFilter;const i=new AbortController,{signal:n}=i;return e.forEach(i=>{i.addEventListener("click",()=>{const n=i.dataset.filter;(t=>{e.forEach(e=>e.classList.remove("is-active")),t.classList.add("is-active")})(i),(e=>{t.forEach(t=>{const i=t.dataset.category,n="all"===e||e===i;t.style.display=n?"flex":"none"})})(n)},{signal:n})}),isScheduleFilterInitialized=!0,destroyScheduleFilter=()=>{i.abort(),e.forEach(e=>e.classList.remove("is-active")),t.forEach(e=>{e.style.removeProperty("display")}),isScheduleFilterInitialized=!1,destroyScheduleFilter=scheduleFilterNoop},destroyScheduleFilter}const STORAGE_KEY="activelife-theme";function initThemeToggle(){const e=document.querySelector("[data-theme-toggle]");if(!e)return;const t=window.matchMedia("(prefers-color-scheme: dark)").matches;function i(t){document.documentElement.setAttribute("data-theme",t),e.setAttribute("aria-pressed","dark"===t?"true":"false")}i(localStorage.getItem(STORAGE_KEY)||(t?"dark":"light")),e.addEventListener("click",()=>{const e="dark"===document.documentElement.getAttribute("data-theme")?"light":"dark";i(e),localStorage.setItem(STORAGE_KEY,e)})}document.documentElement.classList.add("js"),initReveal(),initThemeToggle();const moduleInitializers=[initHeaderShrink,initMobileNav,initScheduleFilter],destroys=[];function destroyAll(){for(;destroys.length;){const e=destroys.pop();"function"==typeof e&&e()}}function initAll(){destroyAll(),moduleInitializers.forEach(e=>{const t=e();destroys.push("function"==typeof t?t:()=>{})})}initAll(),window.initAll=initAll,window.destroyAll=destroyAll;const sections=document.querySelectorAll("main section[id]"),navLinks=document.querySelectorAll(".nav__link");if(sections.length&&navLinks.length){const e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");navLinks.forEach(e=>{e.classList.toggle("is-active",e.getAttribute("href")===`#${t}`)})}})},{threshold:.6});sections.forEach(t=>e.observe(t))}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js")});